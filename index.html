<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>William Tanna ‚Äî Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --black: #0a0a0a;
            --black-soft: #141414;
            --black-card: #111111;
            --gold: #d4af37;
            --gold-light: #e8c547;
            --gold-dark: #b8960c;
            --text: #e5e5e5;
            --text-muted: #9a9a9a;
            --border: rgba(212, 175, 55, 0.2);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'DM Sans', -apple-system, sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: var(--black);
            overflow-x: hidden;
        }

        /* Page Transition */
        .page-transition {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--black);
            z-index: 10000;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.4s ease;
        }
        .page-transition.active { opacity: 1; pointer-events: all; }
        .transition-content { text-align: center; }
        .tiger-runner { font-size: 4rem; color: var(--gold); }
        .loading-text { color: var(--gold); font-family: 'Cormorant Garamond', serif; font-size: 1rem; letter-spacing: 0.3em; margin-top: 1rem; }

        /* Navigation - Jake style: minimal, + button top right */
        nav {
            position: fixed; top: 0; right: 0;
            z-index: 1000;
            padding: 1.5rem 2rem;
        }
        .nav-container {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        .logo {
            display: none;
        }
        .nav-plus {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--black);
            color: var(--gold);
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s, background 0.3s;
        }
        .nav-plus:hover {
            background: var(--gold);
            color: var(--black);
            transform: rotate(90deg);
        }
        .nav-links {
            display: none;
            position: fixed;
            top: 0; right: 0; bottom: 0;
            width: 280px;
            background: #0a0a0a;
            flex-direction: column;
            padding: 5rem 2rem 2rem;
            gap: 1.5rem;
            list-style: none;
            box-shadow: -10px 0 40px rgba(0,0,0,0.3);
        }
        .nav-links.active {
            display: flex;
        }
        .nav-links a {
            color: #e5e5e5;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: color 0.2s;
        }
        .nav-links a:hover { color: var(--gold); }
        .menu-toggle { display: none; }

        /* Hero - photo | chat hook | name+CTAs */
        .hero {
            min-height: 100vh;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            min-height: 100vh;
        }
        .hero-photo {
            position: relative;
            overflow: hidden;
        }
        .hero-photo video,
        .hero-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .hero-photo img.profile-img {
            display: block;
        }
        /* B&W filter like Jake's portrait - remove to show color */
        .hero-photo video,
        .hero-photo img {
            filter: grayscale(100%);
        }
        /* Hero chat - recruiter hook, next to photo */
        .hero-chat {
            background: var(--black-card);
            border: 2px solid var(--gold);
            border-radius: 16px;
            margin: 2rem;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.15);
        }
        .hero-chat-header {
            padding: 1rem 1.25rem;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: var(--black);
            font-weight: 700;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
            text-align: center;
        }
        .hero-chat-messages {
            flex: 1;
            min-height: 180px;
            max-height: 220px;
            overflow-y: auto;
            padding: 1rem;
        }
        .hero-chat-messages::-webkit-scrollbar { width: 6px; }
        .hero-chat-messages::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 3px; }
        .hero-chat-input-wrap {
            padding: 1rem 1.25rem;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 0.75rem;
            align-items: flex-end;
        }
        .hero-chat-input {
            flex: 1;
            padding: 0.85rem 1rem;
            background: var(--black-soft);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 0.9rem;
            outline: none;
            resize: none;
            font-family: inherit;
            line-height: 1.4;
            max-height: 80px;
        }
        .hero-chat-input:focus {
            border-color: var(--gold);
        }
        .hero-chat-send {
            padding: 0.85rem 1.25rem;
            background: var(--gold);
            color: var(--black);
            border: none;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            border-radius: 10px;
            flex-shrink: 0;
        }
        .hero-chat-send:hover { background: var(--gold-light); }
        .hero-chat-send:disabled { opacity: 0.5; cursor: not-allowed; }
        .hero-chat .message { animation: messageSlideIn 0.3s ease; }
        .hero-chat .message-bubble { max-width: 95%; padding: 0.6rem 0.9rem; font-size: 0.85rem; }
        .hero-chat .message-avatar { width: 28px; height: 28px; border-width: 1px; }
        .hero-chat .typing-dot { width: 6px; height: 6px; }

        .hero-text {
            background: var(--black);
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 3rem 4rem 2rem;
        }
        .hero-name {
            font-family: 'DM Sans', -apple-system, sans-serif;
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 700;
            color: var(--gold);
            letter-spacing: -0.03em;
            line-height: 1.05;
            margin-bottom: 1.5rem;
        }
        .hero-tagline {
            font-size: clamp(0.95rem, 1.5vw, 1.1rem);
            color: var(--text-muted);
            line-height: 1.6;
            max-width: 420px;
        }
        .hero-subtitle { display: none; }
        .cta-buttons {
            margin-top: 2.5rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .cta-buttons .btn-primary {
            background: var(--gold);
            color: var(--black);
            border-color: var(--gold);
        }
        .cta-buttons .btn-primary:hover {
            background: var(--gold-light);
            border-color: var(--gold-light);
        }
        .cta-buttons .btn-secondary {
            color: var(--gold);
            border-color: var(--gold);
        }
        .cta-buttons .btn-secondary:hover {
            background: var(--gold);
            color: var(--black);
        }
        .cta-buttons .btn-ai {
            color: var(--gold);
            border-color: var(--gold);
        }
        .cta-buttons .btn-ai:hover {
            background: var(--gold);
            color: var(--black);
        }
        .btn {
            padding: 0.9rem 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            text-decoration: none;
            transition: all 0.25s ease;
            border: 1px solid;
        }
        .btn-primary {
            background: var(--gold);
            color: var(--black);
            border-color: var(--gold);
        }
        .btn-primary:hover {
            background: var(--gold-light);
            border-color: var(--gold-light);
        }
        .btn-secondary {
            background: transparent;
            color: var(--gold);
            border-color: var(--border);
        }
        .btn-secondary:hover { border-color: var(--gold); color: var(--gold-light); }
        .btn-ai {
            background: transparent;
            color: var(--text);
            border-color: var(--border);
        }
        .btn-ai:hover { border-color: var(--gold); color: var(--gold); }

        @keyframes heroReveal {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Scroll animations - Jake style staggered */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .animate-delay-1 { transition-delay: 0.1s; }
        .animate-delay-2 { transition-delay: 0.2s; }
        .animate-delay-3 { transition-delay: 0.3s; }
        .animate-delay-4 { transition-delay: 0.4s; }

        /* Services - Jake style "What I do" */
        .services-section {
            padding: 6rem 2rem;
            background: var(--black);
        }
        .services-inner {
            max-width: 1200px;
            margin: 0 auto;
        }
        .services-section h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 4vw, 4rem);
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
        }
        .services-section .subtitle {
            font-size: 1.1rem;
            color: var(--text);
            margin-bottom: 3rem;
            max-width: 600px;
            line-height: 1.7;
        }
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }
        .service-card {
            padding: 2rem;
            background: var(--black-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        .service-card:hover {
            border-color: rgba(212, 175, 55, 0.4);
            transform: translateY(-4px);
        }
        .service-card h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 0.75rem;
        }
        .service-card p {
            font-size: 0.95rem;
            color: var(--text);
            line-height: 1.6;
        }

        /* Featured Projects */
        .projects-section {
            padding: 6rem 2rem;
            background: var(--black-soft);
            border-top: 1px solid var(--border);
        }
        .projects-inner {
            max-width: 1200px;
            margin: 0 auto;
        }
        .projects-section h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 3rem;
            text-align: center;
        }
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .project-card {
            background: var(--black-card);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }
        .project-card:hover {
            border-color: var(--gold);
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .project-card-image {
            height: 180px;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        .project-card-body {
            padding: 1.5rem;
        }
        .project-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        .project-card p {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.5;
        }

        /* Stats */
        .stats {
            padding: 5rem 2rem;
            background: var(--black);
        }
        .stats-container {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 2rem;
        }
        .stat-item {
            text-align: center;
            padding: 2rem 1.5rem;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        .stat-item:hover {
            border-color: rgba(212, 175, 55, 0.4);
            transform: translateY(-4px);
        }
        .stat-number {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.25rem;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            letter-spacing: 0.03em;
        }

        /* Footer CTA - Jake style */
        .footer-cta {
            padding: 6rem 2rem;
            background: var(--black-soft);
            border-top: 1px solid var(--border);
            text-align: center;
        }
        .footer-cta h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 1rem;
        }
        .footer-cta p {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        .footer-cta .btn {
            display: inline-block;
        }
        footer {
            background: var(--black);
            border-top: 1px solid var(--border);
            padding: 2rem;
            text-align: center;
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }
        .social-links a {
            color: var(--text-muted);
            font-size: 1rem;
            text-decoration: none;
            transition: color 0.25s;
        }
        .social-links a:hover { color: var(--gold); }
        footer p { font-size: 0.8rem; color: var(--text-muted); }

        /* Jake-style: dark footer band with logos */
        .hero-footer-band {
            background: var(--black-soft);
            padding: 2rem 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .footer-band-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 2rem 3rem;
        }
        .footer-band-inner span {
            color: var(--text);
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.05em;
        }

        /* Homepage Chat Section */
        .chat-section {
            padding: 6rem 2rem;
            background: var(--black);
        }
        .chat-section-inner {
            max-width: 900px;
            margin: 0 auto;
        }
        .chat-section h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        .chat-section .chat-subtitle {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        .chat-box {
            background: var(--black-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
        }
        .chat-messages-container {
            padding: 2rem;
            min-height: 320px;
            max-height: 420px;
            overflow-y: auto;
        }
        .chat-messages-container::-webkit-scrollbar { width: 8px; }
        .chat-messages-container::-webkit-scrollbar-track { background: var(--black-soft); }
        .chat-messages-container::-webkit-scrollbar-thumb { background: var(--gold); }
        .welcome-screen {
            text-align: center;
            padding: 2rem;
        }
        .welcome-screen h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.25rem;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        .welcome-screen p {
            font-size: 0.95rem;
            color: var(--text-muted);
        }
        .chat-messages-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .message { animation: messageSlideIn 0.3s ease; }
        @keyframes messageSlideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message.user { display: flex; justify-content: flex-end; }
        .message.bot { display: flex; justify-content: flex-start; align-items: flex-start; gap: 0.6rem; }
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            border: 2px solid var(--gold);
        }
        .message-bubble {
            max-width: 80%;
            padding: 1rem 1.25rem;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        .message.user .message-bubble {
            background: var(--gold);
            color: var(--black);
            border-radius: 16px 16px 4px 16px;
        }
        .message.bot .message-bubble {
            background: var(--black-soft);
            border: 1px solid var(--border);
            color: var(--text);
            border-radius: 16px 16px 16px 4px;
        }
        .typing-indicator {
            display: flex;
            gap: 0.5rem;
            padding: 1rem 1.25rem;
        }
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--gold);
            animation: typingAnimation 1.4s ease-in-out infinite;
        }
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.5; }
            30% { transform: translateY(-8px); opacity: 1; }
        }
        .chat-input-area {
            padding: 1.5rem 2rem;
            background: var(--black-soft);
            border-top: 1px solid var(--border);
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }
        .chat-input {
            flex: 1;
            padding: 1rem 1.25rem;
            background: var(--black-card);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
            resize: none;
            font-family: inherit;
            line-height: 1.5;
            max-height: 120px;
        }
        .chat-input:focus {
            border-color: var(--gold);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
        .chat-send-btn {
            padding: 1rem 1.75rem;
            background: var(--gold);
            color: var(--black);
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.25s;
            border-radius: 12px;
        }
        .chat-send-btn:hover { background: var(--gold-light); }
        .chat-send-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        @media (max-width: 768px) {
            .hero {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
            .hero-photo { min-height: 45vh; order: 1; }
            .hero-text { order: 2; padding: 3rem 2rem 1rem; }
            .hero-chat { margin: 1rem; order: 3; }
            .nav-links {
                display: none;
                position: fixed;
                top: 60px; left: 0; right: 0;
                background: var(--black);
                flex-direction: column;
                padding: 2rem;
                gap: 1rem;
                border-bottom: 1px solid var(--border);
            }
            .nav-links.active { display: flex; }
            .menu-toggle { display: block; }
            .profile-video-wrap { width: 180px; height: 180px; }
            .cta-buttons { flex-direction: column; }
            .footer-band-inner { gap: 1rem 1.5rem; }
            .footer-band-inner span { font-size: 0.8rem; }
            .chat-input-area { flex-direction: column; }
            .chat-send-btn { width: 100%; }
        }
        @media (max-width: 480px) {
            .profile-video-wrap { width: 150px; height: 150px; }
        }
    </style>
</head>
<body>
    <div class="page-transition" id="pageTransition">
        <div class="transition-content">
            <div class="tiger-runner">üêÖ</div>
            <div class="loading-text">Loading</div>
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <button class="nav-plus" onclick="toggleMenu()" aria-label="Menu">+</button>
            <ul class="nav-links" id="navLinks">
                <li><a href="/" class="active" onclick="navigateWithAnimation(event, '/')">Home</a></li>
                <li><a href="/about" onclick="navigateWithAnimation(event, '/about')">About</a></li>
                <li><a href="/resume" onclick="navigateWithAnimation(event, '/resume')">Resume</a></li>
                <li><a href="/projects" onclick="navigateWithAnimation(event, '/projects')">Projects</a></li>
                <li><a href="/courses" onclick="navigateWithAnimation(event, '/courses')">Courses</a></li>
                <li><a href="/goals" onclick="navigateWithAnimation(event, '/goals')">Goals</a></li>
                <li><a href="#chat-section" onclick="scrollToChat(event)">AI Chat</a></li>
            </ul>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-photo">
            <video autoplay loop muted playsinline poster="images/profile.png" aria-label="William Tanna">
                <source src="images/profile.mov" type="video/quicktime">
                <source src="images/profile.mp4" type="video/mp4">
                <img src="images/profile.png" alt="William Tanna" class="profile-img">
            </video>
        </div>
        <div class="hero-chat">
            <div class="hero-chat-header">üí¨ Ask me anything ‚Äî Recruiters & visitors</div>
            <div class="hero-chat-messages" id="heroChatMessages">
                <div class="welcome-screen" id="heroWelcomeScreen">
                    <h3 style="font-size:1rem;color:var(--gold);margin-bottom:0.4rem;">Chat with William</h3>
                    <p style="font-size:0.85rem;color:var(--text-muted);">Experience, projects, goals ‚Äî ask anything.</p>
                </div>
                <div class="chat-messages-list" id="heroMessagesList"></div>
            </div>
            <div class="hero-chat-input-wrap">
                <textarea class="hero-chat-input" id="heroChatInput" placeholder="Type your question..." rows="1" onkeydown="handleHeroChatKeyDown(event)"></textarea>
                <button class="hero-chat-send" id="heroSendBtn" onclick="sendHeroChatMessage()">Send</button>
            </div>
        </div>
        <div class="hero-text">
            <h1 class="hero-name">William Tanna</h1>
            <p class="hero-tagline">Finance & Information Systems ¬∑ CFA Level I Candidate ¬∑ Equity Analyst ¬∑ Data Enthusiast. Combining financial expertise with data analytics to drive strategic insights.</p>
            <div class="cta-buttons">
                <a href="/about" class="btn btn-primary" onclick="navigateWithAnimation(event, '/about')">About</a>
                <a href="/resume" class="btn btn-secondary" onclick="navigateWithAnimation(event, '/resume')">Resume</a>
                <a href="#chat-section" class="btn btn-ai" onclick="scrollToChat(event)">AI Chat</a>
                <a href="mailto:williamtanna280204@gmail.com" class="btn btn-secondary">Contact</a>
            </div>
        </div>
    </section>

    <!-- Jake-style: dark band with experience logos -->
    <section class="hero-footer-band">
        <div class="footer-band-inner">
            <span>UIC</span>
            <span>Mirae Asset Sharekhan</span>
            <span>CFA Institute</span>
            <span>Campus Recreation</span>
            <span>Chicago Tech Circle</span>
        </div>
    </section>

    <section class="services-section animate-on-scroll">
        <div class="services-inner">
            <h2>Finance & analytics, built end-to-end.</h2>
            <p class="subtitle">From foundational analysis to full-funnel rollout ‚Äî I combine financial expertise with data-driven insights to deliver results that scale.</p>
            <div class="services-grid">
                <div class="service-card animate-on-scroll animate-delay-1">
                    <h3>Financial Analysis & Modeling</h3>
                    <p>DCF valuation, equity research, portfolio analysis, and forecasting. Building models that drive strategic decisions.</p>
                </div>
                <div class="service-card animate-on-scroll animate-delay-2">
                    <h3>Data & AI Analytics</h3>
                    <p>Machine learning, data mining, automation, and GPT/LLM systems. Delivering 56x cost savings and 18x faster execution.</p>
                </div>
                <div class="service-card animate-on-scroll animate-delay-3">
                    <h3>Investment Analysis</h3>
                    <p>Bloomberg Terminal, equity screening, portfolio management. Real-money experience with $150K student fund.</p>
                </div>
                <div class="service-card animate-on-scroll animate-delay-4">
                    <h3>Strategic Collaboration</h3>
                    <p>Partner to finance, analytics, and operations teams ‚Äî aligning vision to execution with cross-functional leadership.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="projects-section animate-on-scroll">
        <div class="projects-inner">
            <h2>Featured Projects</h2>
            <div class="projects-grid">
                <a href="/projects" class="project-card" onclick="navigateWithAnimation(event, '/projects')">
                    <div class="project-card-image">üìä</div>
                    <div class="project-card-body">
                        <h3>ESG Automation Platform</h3>
                        <p>WITCH FOR FITCH ‚Äî 56x cheaper, 18x faster. Chicago Tech Circle Winner.</p>
                    </div>
                </a>
                <a href="/projects" class="project-card" onclick="navigateWithAnimation(event, '/projects')">
                    <div class="project-card-image">ü§ñ</div>
                    <div class="project-card-body">
                        <h3>Pathfind Careers AI Workflow</h3>
                        <p>Multi-agent GPT system ‚Äî 98% faster r√©sum√© review, 90% accuracy.</p>
                    </div>
                </a>
                <a href="/projects" class="project-card" onclick="navigateWithAnimation(event, '/projects')">
                    <div class="project-card-image">üìà</div>
                    <div class="project-card-body">
                        <h3>Lending Club Credit Risk</h3>
                        <p>LightGBM model ‚Äî 99.9% accuracy, $889M projected profit.</p>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <section class="stats animate-on-scroll">
        <div class="stats-container">
            <div class="stat-item">
                <div class="stat-number">3.47</div>
                <div class="stat-label">üìö Current GPA</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">$1.5M</div>
                <div class="stat-label">üìä Portfolio Analysis</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">$150K</div>
                <div class="stat-label">üíº Student Fund</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">20+</div>
                <div class="stat-label">üìà Portfolios Analyzed</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">30+</div>
                <div class="stat-label">üë• Team Members Led</div>
            </div>
        </div>
    </section>

    <section class="chat-section animate-on-scroll" id="chat-section">
        <div class="chat-section-inner">
            <h2>ü§ñ Chat with me</h2>
            <p class="chat-subtitle">Full chat experience ‚Äî ask about experience, projects, or anything. <a href="/chat" onclick="navigateWithAnimation(event, '/chat')" style="color: var(--gold); text-decoration: none;">Open full chat page ‚Üí</a></p>
            <div class="chat-box">
                <div class="chat-messages-container" id="homeChatMessages">
                    <div class="welcome-screen" id="homeWelcomeScreen">
                        <h3>Ask me anything</h3>
                        <p>Experience, skills, projects, career goals ‚Äî or any topic you'd like.</p>
                    </div>
                    <div class="chat-messages-list" id="homeMessagesList"></div>
                </div>
                <div class="chat-input-area">
                    <textarea class="chat-input" id="homeChatInput" placeholder="Type your question..." rows="1" onkeydown="handleHomeChatKeyDown(event)"></textarea>
                    <button class="chat-send-btn" id="homeSendBtn" onclick="sendHomeChatMessage()">Send</button>
                </div>
            </div>
        </div>
    </section>

    <section class="footer-cta animate-on-scroll">
        <h2>Looking for a partner in finance & analytics?</h2>
        <p>Whether it's an internship, project, or collaboration ‚Äî I'd love to connect.</p>
        <a href="mailto:williamtanna280204@gmail.com" class="btn btn-primary">Let's connect</a>
    </section>

    <footer>
        <div class="footer-content">
            <div class="social-links">
                <a href="https://linkedin.com/in/williamtanna2824" target="_blank">LinkedIn</a>
                <a href="https://instagram.com/williamtannaa" target="_blank">Instagram</a>
                <a href="mailto:wtanna2@uic.edu">Email</a>
                <a href="https://github.com/williamtanna" target="_blank">GitHub</a>
            </div>
            <p>¬© 2025 William Tanna</p>
        </div>
    </footer>

    <script>
        function navigateWithAnimation(event, url) {
            event.preventDefault();
            document.getElementById('pageTransition').classList.add('active');
            setTimeout(() => { window.location.href = url; }, 400);
        }
        function toggleMenu() {
            document.getElementById('navLinks').classList.toggle('active');
        }
        function scrollToChat(e) {
            const target = document.getElementById('chat-section');
            if (target) {
                e.preventDefault();
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        // Scroll-triggered animations - Jake style
        const scrollObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
        document.querySelectorAll('.animate-on-scroll').forEach(el => scrollObserver.observe(el));
        document.addEventListener('click', function(e) {
            const nav = document.querySelector('nav');
            const links = document.getElementById('navLinks');
            if (!nav.contains(e.target) && links.classList.contains('active')) {
                links.classList.remove('active');
            }
        });

        // Hero chat (recruiter hook)
        const heroChatInput = document.getElementById('heroChatInput');
        heroChatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 80) + 'px';
        });
        function handleHeroChatKeyDown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendHeroChatMessage();
            }
        }
        function addHeroChatMessage(text, sender) {
            const list = document.getElementById('heroMessagesList');
            const welcome = document.getElementById('heroWelcomeScreen');
            if (welcome) welcome.style.display = 'none';
            const div = document.createElement('div');
            div.className = `message ${sender}`;
            if (sender === 'bot') {
                div.innerHTML = `<img class="message-avatar" src="images/profile.png" alt="William"><div class="message-bubble">${text}</div>`;
            } else {
                div.innerHTML = `<div class="message-bubble">${text}</div>`;
            }
            list.appendChild(div);
            document.getElementById('heroChatMessages').scrollTop = 9999;
        }
        async function sendHeroChatMessage() {
            const input = document.getElementById('heroChatInput');
            const btn = document.getElementById('heroSendBtn');
            const msg = input.value.trim();
            if (!msg) return;
            btn.disabled = true;
            btn.textContent = '...';
            addHeroChatMessage(msg, 'user');
            input.value = '';
            input.style.height = 'auto';
            addHeroChatMessage('<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>', 'bot');
            const typingEl = document.querySelector('#heroMessagesList .message.bot:last-child');
            try {
                const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' ? 'http://localhost:8000' : 'https://william-tanna-chat.onrender.com';
                const res = await fetch(`${API_BASE}/api/chat`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ message: msg }) });
                const data = await res.json();
                if (typingEl) typingEl.remove();
                if (data.success && data.response) addHeroChatMessage(data.response, 'bot');
                else addHeroChatMessage('Sorry, I couldn\'t process that.', 'bot');
            } catch (err) {
                if (typingEl) typingEl.remove();
                addHeroChatMessage('Sorry, I can\'t connect right now.', 'bot');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Send';
                input.focus();
            }
        }

        // Homepage chat (full section, scroll down)
        const homeChatInput = document.getElementById('homeChatInput');
        homeChatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
        function handleHomeChatKeyDown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendHomeChatMessage();
            }
        }
        function addHomeChatMessage(text, sender) {
            const list = document.getElementById('homeMessagesList');
            const div = document.createElement('div');
            const id = 'home-msg-' + Date.now();
            div.id = id;
            div.className = `message ${sender}`;
            if (sender === 'bot') {
                div.innerHTML = `<img class="message-avatar" src="images/profile.png" alt="William"><div class="message-bubble">${text}</div>`;
            } else {
                div.innerHTML = `<div class="message-bubble">${text}</div>`;
            }
            list.appendChild(div);
            const container = document.getElementById('homeChatMessages');
            container.scrollTop = container.scrollHeight;
            const welcome = document.getElementById('homeWelcomeScreen');
            if (welcome && list.children.length > 0) welcome.style.display = 'none';
            return id;
        }
        async function sendHomeChatMessage() {
            const input = document.getElementById('homeChatInput');
            const btn = document.getElementById('homeSendBtn');
            const msg = input.value.trim();
            if (!msg) return;
            btn.disabled = true;
            btn.textContent = 'Sending...';
            addHomeChatMessage(msg, 'user');
            input.value = '';
            input.style.height = 'auto';
            const typingId = addHomeChatMessage('<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>', 'bot');
            try {
                const PRODUCTION_API = 'https://william-tanna-chat.onrender.com';
                const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' ? 'http://localhost:8000' : PRODUCTION_API;
                const res = await fetch(`${API_BASE}/api/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: msg })
                });
                const data = await res.json();
                document.getElementById(typingId).remove();
                if (data.success && data.response) {
                    addHomeChatMessage(data.response, 'bot');
                } else if (data.detail) {
                    addHomeChatMessage('Sorry, ' + (typeof data.detail === 'string' ? data.detail : data.detail.detail || 'something went wrong.'), 'bot');
                } else {
                    addHomeChatMessage('Sorry, I couldn\'t process that request.', 'bot');
                }
            } catch (err) {
                document.getElementById(typingId).remove();
                const isLocal = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
                addHomeChatMessage(isLocal ? 'Sorry, I can\'t connect. Run the backend: <code>cd backend && uvicorn main:app --port 8000</code>' : 'Sorry, I can\'t connect right now. Try again in a moment.', 'bot');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Send';
                input.focus();
            }
        }
    </script>
</body>
</html>
